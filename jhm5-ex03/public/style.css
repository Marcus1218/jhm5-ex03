/* CSS重置和全局樣式設置 */
* { /* 通用選擇器，選中所有HTML元素 */
    margin: 0; /* 移除所有元素的默認外邊距 */
    padding: 0; /* 移除所有元素的默認內邊距 */
    box-sizing: border-box; /* 設置盒模型為border-box，包含邊框和內邊距在內的寬高計算 */
}

/* 頁面主體樣式設置 */
body { /* 設置整個頁面的基本樣式 */
    font-family: 'Noto Sans TC', sans-serif; /* 設置字體為Noto Sans TC，支持中文顯示 */
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* 設置漸層背景，從藍紫色到深紫色 */
    min-height: 100vh; /* 設置最小高度為視窗高度100% */
    display: flex; /* 使用彈性佈局 */
    justify-content: center; /* 水平方向居中對齊 */
    align-items: center; /* 垂直方向居中對齊 */
    padding: 20px; /* 設置內邊距20px，防止內容貼邊 */
    overflow-x: hidden; /* 隱藏水平方向的滾動條 */
}

/* 主容器樣式設置 */
.container { /* 遊戲主容器的樣式 */
    background: rgba(255, 255, 255, 0.95); /* 設置半透明白色背景，透明度95% */
    border-radius: 20px; /* 設置圓角邊框20px */
    padding: 30px; /* 設置內邊距30px */
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1); /* 設置陰影效果，營造立體感 */
    text-align: center; /* 文字居中對齊 */
    max-width: 500px; /* 設置最大寬度500px */
    width: 100%; /* 設置寬度為100% */
    backdrop-filter: blur(10px); /* 設置背景模糊效果10px */
}

/* 遊戲標題樣式 */
.title { /* 遊戲標題"過三關"的樣式 */
    font-size: 2.5em; /* 設置字體大小為2.5倍基準大小 */
    color: #333; /* 設置文字顏色為深灰色 */
    margin-bottom: 20px; /* 設置下邊距20px */
    font-weight: 700; /* 設置字體粗細為700（粗體） */
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1); /* 設置文字陰影效果 */
}

/* 模式選擇器容器樣式 */
.mode-selector { /* 遊戲模式選擇區域的樣式 */
    margin-bottom: 30px; /* 設置下邊距30px */
    display: flex; /* 使用彈性佈局 */
    gap: 10px; /* 設置子元素間距10px */
    justify-content: center; /* 水平居中對齊 */
}

/* 模式選擇按鈕樣式 */
.mode-btn { /* 模式選擇按鈕的基本樣式 */
    padding: 10px 20px; /* 設置內邊距：上下10px，左右20px */
    border: none; /* 移除邊框 */
    border-radius: 25px; /* 設置圓角邊框25px，創造膠囊形狀 */
    background: #f0f0f0; /* 設置背景色為淺灰色 */
    color: #666; /* 設置文字顏色為中灰色 */
    font-family: inherit; /* 繼承父元素的字體 */
    font-size: 14px; /* 設置字體大小14px */
    cursor: pointer; /* 設置鼠標指針為手型 */
    transition: all 0.3s ease; /* 設置所有屬性0.3秒平滑過渡動畫 */
}

/* 模式按鈕懸停效果 */
.mode-btn:hover { /* 當鼠標懸停在按鈕上時的樣式 */
    transform: translateY(-2px); /* 向上移動2px，創造按鈕被按下的效果 */
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); /* 添加陰影效果 */
}

/* 活躍模式按鈕樣式 */
.mode-btn.active { /* 當前選中的模式按鈕樣式 */
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* 設置漸層背景 */
    color: white; /* 設置文字顏色為白色 */
}

/* 遊戲信息區域樣式 */
.game-info { /* 遊戲信息顯示區域的樣式 */
    margin-bottom: 30px; /* 設置下邊距30px */
}

/* 玩家信息容器樣式 */
.player-info { /* 玩家信息顯示容器的樣式 */
    display: flex; /* 使用彈性佈局 */
    justify-content: center; /* 水平居中對齊 */
    align-items: center; /* 垂直居中對齊 */
    gap: 20px; /* 設置子元素間距20px */
    margin-bottom: 15px; /* 設置下邊距15px */
}

/* 單個玩家信息樣式 */
.player { /* 單個玩家信息區域的樣式 */
    display: flex; /* 使用彈性佈局 */
    flex-direction: column; /* 設置垂直排列 */
    align-items: center; /* 水平居中對齊 */
    gap: 5px; /* 設置子元素間距5px */
}

/* 玩家符號樣式 */
.player-symbol { /* 玩家符號（X或O）的樣式 */
    width: 40px; /* 設置寬度40px */
    height: 40px; /* 設置高度40px */
    border-radius: 50%; /* 設置圓形邊框 */
    display: flex; /* 使用彈性佈局 */
    align-items: center; /* 垂直居中對齊 */
    justify-content: center; /* 水平居中對齊 */
    font-weight: bold; /* 設置字體為粗體 */
    font-size: 20px; /* 設置字體大小20px */
    color: white; /* 設置文字顏色為白色 */
}

/* 玩家一符號特定樣式 */
.player1 .player-symbol { /* 玩家一（X）符號的背景色 */
    background: linear-gradient(135deg, #ff6b6b, #ee5a52); /* 設置紅色漸層背景 */
}

/* 玩家二符號特定樣式 */
.player2 .player-symbol { /* 玩家二（O）符號的背景色 */
    background: linear-gradient(135deg, #4834d4, #341a8f); /* 設置藍紫色漸層背景 */
}

/* VS分隔符樣式 */
.vs { /* "VS"文字的樣式 */
    font-weight: bold; /* 設置字體為粗體 */
    color: #666; /* 設置文字顏色為中灰色 */
    font-size: 18px; /* 設置字體大小18px */
}

/* 回合提示和遊戲狀態樣式 */
.current-turn, .game-status { /* 當前回合提示和遊戲狀態的共同樣式 */
    font-size: 18px; /* 設置字體大小18px */
    font-weight: 500; /* 設置字體粗細為500（中等粗細） */
    color: #555; /* 設置文字顏色為深灰色 */
    margin: 10px 0; /* 設置上下邊距10px */
}

/* 遊戲勝利狀態樣式 */
.game-status.status-win { /* 當有玩家獲勝時的狀態樣式 */
    color: #28a745; /* 設置文字顏色為綠色 */
    font-weight: bold; /* 設置字體為粗體 */
}

/* 遊戲平局狀態樣式 */
.game-status.status-draw { /* 當遊戲平局時的狀態樣式 */
    color: #ffc107; /* 設置文字顏色為黃色 */
    font-weight: bold; /* 設置字體為粗體 */
}

/* 遊戲棋盤樣式 */
.game-board { /* 3x3遊戲棋盤的樣式 */
    display: grid; /* 使用網格佈局 */
    grid-template-columns: repeat(3, 1fr); /* 創建3列等寬網格 */
    gap: 10px; /* 設置網格間距10px */
    margin: 30px 0; /* 設置上下邊距30px */
    max-width: 300px; /* 設置最大寬度300px */
    margin-left: auto; /* 左邊距自動，用於居中 */
    margin-right: auto; /* 右邊距自動，用於居中 */
}

/* 棋盤格子樣式 */
.cell { /* 棋盤中每個格子的樣式 */
    aspect-ratio: 1; /* 設置寬高比為1:1，保持正方形 */
    background: #f8f9fa; /* 設置背景色為淺灰色 */
    border: 2px solid #e9ecef; /* 設置2px灰色邊框 */
    border-radius: 15px; /* 設置圓角邊框15px */
    display: flex; /* 使用彈性佈局 */
    align-items: center; /* 垂直居中對齊 */
    justify-content: center; /* 水平居中對齊 */
    font-size: 2em; /* 設置字體大小為2倍基準大小 */
    font-weight: bold; /* 設置字體為粗體 */
    cursor: pointer; /* 設置鼠標指針為手型 */
    transition: all 0.3s ease; /* 設置所有屬性0.3秒平滑過渡 */
    position: relative; /* 設置相對定位 */
    overflow: hidden; /* 隱藏溢出內容 */
}

/* 棋盤格子懸停效果 */
.cell:hover:not(.taken) { /* 當鼠標懸停在未被占用的格子上時 */
    background: #e9ecef; /* 改變背景色為稍深的灰色 */
    transform: scale(1.05); /* 放大105% */
    border-color: #667eea; /* 改變邊框顏色為藍色 */
}

/* 已占用格子樣式 */
.cell.taken { /* 已被放置棋子的格子樣式 */
    cursor: not-allowed; /* 設置鼠標指針為禁止符號 */
}

/* X棋子格子樣式 */
.cell.x { /* 放置了X棋子的格子樣式 */
    color: #ff6b6b; /* 設置文字顏色為紅色 */
    background: rgba(255, 107, 107, 0.1); /* 設置淺紅色半透明背景 */
    border-color: #ff6b6b; /* 設置邊框顏色為紅色 */
}

/* O棋子格子樣式 */
.cell.o { /* 放置了O棋子的格子樣式 */
    color: #4834d4; /* 設置文字顏色為藍紫色 */
    background: rgba(72, 52, 212, 0.1); /* 設置淺藍紫色半透明背景 */
    border-color: #4834d4; /* 設置邊框顏色為藍紫色 */
}

/* 獲勝格子樣式 */
.cell.winning { /* 形成獲勝線的格子樣式 */
    background: linear-gradient(135deg, #ffd700, #ffed4e); /* 設置金色漸層背景 */
    animation: pulse 1s infinite; /* 應用無限循環的脈衝動畫 */
}

/* 控制按鈕區域樣式 */
.controls { /* 控制按鈕區域的樣式 */
    margin-top: 20px; /* 設置上邊距20px */
}

/* 控制按鈕樣式 */
.control-btn { /* 控制按鈕（如重新開始）的樣式 */
    padding: 12px 24px; /* 設置內邊距：上下12px，左右24px */
    border: none; /* 移除邊框 */
    border-radius: 25px; /* 設置圓角邊框25px */
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* 設置藍紫色漸層背景 */
    color: white; /* 設置文字顏色為白色 */
    font-family: inherit; /* 繼承父元素字體 */
    font-size: 16px; /* 設置字體大小16px */
    font-weight: 500; /* 設置字體粗細為500 */
    cursor: pointer; /* 設置鼠標指針為手型 */
    transition: all 0.3s ease; /* 設置所有屬性0.3秒平滑過渡 */
}

/* 控制按鈕懸停效果 */
.control-btn:hover { /* 當鼠標懸停在控制按鈕上時 */
    transform: translateY(-2px); /* 向上移動2px */
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4); /* 添加藍色陰影效果 */
}

/* 勝利模態框樣式 */
.victory-modal { /* 勝利彈窗的容器樣式 */
    position: fixed; /* 設置固定定位 */
    top: 0; /* 距離頂部0px */
    left: 0; /* 距離左側0px */
    width: 100%; /* 設置寬度為100% */
    height: 100%; /* 設置高度為100% */
    background: rgba(0, 0, 0, 0.7); /* 設置半透明黑色背景遮罩 */
    display: flex; /* 使用彈性佈局 */
    align-items: center; /* 垂直居中對齊 */
    justify-content: center; /* 水平居中對齊 */
    opacity: 0; /* 設置初始透明度為0（隱藏） */
    visibility: hidden; /* 設置初始可見性為隱藏 */
    transition: all 0.3s ease; /* 設置所有屬性0.3秒平滑過渡 */
    z-index: 1000; /* 設置層級為1000，確保在最頂層 */
}

/* 顯示狀態的勝利模態框 */
.victory-modal.show { /* 當模態框需要顯示時 */
    opacity: 1; /* 設置透明度為1（完全不透明） */
    visibility: visible; /* 設置可見性為可見 */
}

/* 模態框內容樣式 */
.modal-content { /* 模態框內容區域的樣式 */
    background: white; /* 設置背景色為白色 */
    padding: 40px; /* 設置內邊距40px */
    border-radius: 20px; /* 設置圓角邊框20px */
    text-align: center; /* 文字居中對齊 */
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3); /* 設置陰影效果 */
    transform: scale(0.7); /* 設置初始縮放為70% */
    transition: transform 0.3s ease; /* 設置縮放過渡動畫 */
}

/* 顯示狀態的模態框內容 */
.victory-modal.show .modal-content { /* 當模態框顯示時的內容樣式 */
    transform: scale(1); /* 恢復到100%大小 */
}

/* 模態框標題樣式 */
.modal-content h2 { /* 模態框內的標題樣式 */
    font-size: 28px; /* 設置字體大小28px */
    color: #333; /* 設置文字顏色為深灰色 */
    margin-bottom: 20px; /* 設置下邊距20px */
}

/* 再玩一局按鈕樣式 */
.play-again-btn { /* "再玩一局"按鈕的樣式 */
    padding: 12px 24px; /* 設置內邊距：上下12px，左右24px */
    border: none; /* 移除邊框 */
    border-radius: 25px; /* 設置圓角邊框25px */
    background: linear-gradient(135deg, #28a745, #20c997); /* 設置綠色漸層背景 */
    color: white; /* 設置文字顏色為白色 */
    font-family: inherit; /* 繼承父元素字體 */
    font-size: 16px; /* 設置字體大小16px */
    font-weight: 500; /* 設置字體粗細為500 */
    cursor: pointer; /* 設置鼠標指針為手型 */
    transition: all 0.3s ease; /* 設置所有屬性0.3秒平滑過渡 */
}

/* 再玩一局按鈕懸停效果 */
.play-again-btn:hover { /* 當鼠標懸停在"再玩一局"按鈕上時 */
    transform: translateY(-2px); /* 向上移動2px */
    box-shadow: 0 8px 20px rgba(40, 167, 69, 0.4); /* 添加綠色陰影效果 */
}

/* 煙花動畫容器樣式 */
.fireworks-container { /* 煙花特效容器的樣式 */
    position: fixed; /* 設置固定定位 */
    top: 0; /* 距離頂部0px */
    left: 0; /* 距離左側0px */
    width: 100%; /* 設置寬度為100% */
    height: 100%; /* 設置高度為100% */
    pointer-events: none; /* 設置鼠標事件穿透，不阻擋用戶操作 */
    z-index: 999; /* 設置層級為999，在模態框下方但在其他元素上方 */
}

/* 煙花爆炸點樣式 */
.firework-explosion { /* 單個煙花爆炸點的樣式 */
    position: absolute; /* 設置絕對定位 */
    pointer-events: none; /* 設置鼠標事件穿透 */
}

/* 煙花粒子樣式 */
.firework-particle { /* 煙花粒子的樣式 */
    position: absolute; /* 設置絕對定位 */
    width: 4px; /* 設置寬度4px */
    height: 4px; /* 設置高度4px */
    border-radius: 50%; /* 設置圓形邊框 */
    transition: all 2s ease-out; /* 設置所有屬性2秒平滑過渡動畫 */
}

/* 動畫定義區域 */
@keyframes pulse { /* 定義脈衝動畫關鍵幀 */
    0% { transform: scale(1); } /* 動畫開始：正常大小 */
    50% { transform: scale(1.1); } /* 動畫中間：放大110% */
    100% { transform: scale(1); } /* 動畫結束：恢復正常大小 */
}

@keyframes bounce { /* 定義彈跳動畫關鍵幀 */
    0%, 20%, 53%, 80%, 100% { transform: translate3d(0, 0, 0); } /* 靜止狀態的關鍵幀 */
    40%, 43% { transform: translate3d(0, -10px, 0); } /* 向上彈跳10px的關鍵幀 */
    70% { transform: translate3d(0, -5px, 0); } /* 向上彈跳5px的關鍵幀 */
    90% { transform: translate3d(0, -2px, 0); } /* 向上彈跳2px的關鍵幀 */
}

/* 響應式設計區域（目前為空，可根據需要添加移動設備適配樣式） */
